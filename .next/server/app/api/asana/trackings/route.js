"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/asana/trackings/route";
exports.ids = ["app/api/asana/trackings/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fasana%2Ftrackings%2Froute&page=%2Fapi%2Fasana%2Ftrackings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fasana%2Ftrackings%2Froute.ts&appDir=%2Fworkspaces%2Fsistemaduri%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2Fsistemaduri&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fasana%2Ftrackings%2Froute&page=%2Fapi%2Fasana%2Ftrackings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fasana%2Ftrackings%2Froute.ts&appDir=%2Fworkspaces%2Fsistemaduri%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2Fsistemaduri&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _workspaces_sistemaduri_src_app_api_asana_trackings_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/asana/trackings/route.ts */ \"(rsc)/./src/app/api/asana/trackings/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/asana/trackings/route\",\n        pathname: \"/api/asana/trackings\",\n        filename: \"route\",\n        bundlePath: \"app/api/asana/trackings/route\"\n    },\n    resolvedPagePath: \"/workspaces/sistemaduri/src/app/api/asana/trackings/route.ts\",\n    nextConfigOutput,\n    userland: _workspaces_sistemaduri_src_app_api_asana_trackings_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/asana/trackings/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhc2FuYSUyRnRyYWNraW5ncyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYXNhbmElMkZ0cmFja2luZ3MlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhc2FuYSUyRnRyYWNraW5ncyUyRnJvdXRlLnRzJmFwcERpcj0lMkZ3b3Jrc3BhY2VzJTJGc2lzdGVtYWR1cmklMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRndvcmtzcGFjZXMlMkZzaXN0ZW1hZHVyaSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDWTtBQUN6RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3BvcnRmb2xpby1wYWdlcy8/YjQ2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvd29ya3NwYWNlcy9zaXN0ZW1hZHVyaS9zcmMvYXBwL2FwaS9hc2FuYS90cmFja2luZ3Mvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FzYW5hL3RyYWNraW5ncy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FzYW5hL3RyYWNraW5nc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXNhbmEvdHJhY2tpbmdzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL3dvcmtzcGFjZXMvc2lzdGVtYWR1cmkvc3JjL2FwcC9hcGkvYXNhbmEvdHJhY2tpbmdzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hc2FuYS90cmFja2luZ3Mvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fasana%2Ftrackings%2Froute&page=%2Fapi%2Fasana%2Ftrackings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fasana%2Ftrackings%2Froute.ts&appDir=%2Fworkspaces%2Fsistemaduri%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2Fsistemaduri&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/asana/trackings/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/asana/trackings/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_asana_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/asana-client */ \"(rsc)/./src/lib/asana-client.ts\");\n// src/app/api/asana/trackings/route.ts - Produção real\n\n\nasync function GET() {\n    try {\n        const asanaClient = new _lib_asana_client__WEBPACK_IMPORTED_MODULE_1__.AsanaClient();\n        // 1. Get workspace\n        const workspaces = await asanaClient.getWorkspaces();\n        const workspace = workspaces[0];\n        // 2. Get all projects\n        const projects = await asanaClient.getProjects(workspace.gid);\n        // 3. Find tracking project (flexible search)\n        const trackingProject = projects.find((p)=>p.name.toLowerCase().includes(\"tracking\") || p.name.toLowerCase().includes(\"mar\\xedtimo\") || p.name.toLowerCase().includes(\"importa\\xe7\\xe3o\") || p.name.toLowerCase().includes(\"porcelanosa\") || p.name.toLowerCase().includes(\"univar\"));\n        if (!trackingProject) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Projeto de tracking n\\xe3o encontrado\",\n                availableProjects: projects.map((p)=>p.name)\n            }, {\n                status: 404\n            });\n        }\n        // 4. Get tasks\n        const tasks = await asanaClient.getProjectTasks(trackingProject.gid);\n        // 5. Transform tasks to tracking format\n        const trackings = tasks.filter((task)=>task.name && task.name.trim()).map((task)=>transformAsanaTaskToTracking(task));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: trackings,\n            meta: {\n                workspace: workspace.name,\n                project: trackingProject.name,\n                count: trackings.length,\n                lastUpdate: new Date().toISOString()\n            }\n        });\n    } catch (error) {\n        console.error(\"Get Trackings Error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Falha ao buscar trackings\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\nfunction transformAsanaTaskToTracking(task) {\n    // Extract custom fields\n    const customFields = {};\n    if (task.custom_fields) {\n        task.custom_fields.forEach((field)=>{\n            if (field.name) {\n                const key = field.name.toLowerCase().replace(/[^a-z0-9\\s]/g, \"\").replace(/\\s+/g, \"_\");\n                customFields[key] = field.text_value || field.number_value?.toString() || field.enum_value?.name || \"\";\n            }\n        });\n    }\n    // Generate clean ID for URL\n    const trackingId = task.name.toLowerCase().replace(/[°\\s-]/g, \"\").replace(/[^a-z0-9]/g, \"\");\n    return {\n        id: trackingId,\n        asanaId: task.gid,\n        title: task.name,\n        description: task.notes || \"\",\n        status: task.completed ? \"Conclu\\xeddo\" : \"Em Progresso\",\n        lastUpdate: new Date(task.modified_at || task.created_at).toLocaleDateString(\"pt-BR\"),\n        transport: {\n            exporter: customFields.exportador || customFields.exporter || \"\",\n            company: customFields.companhia || customFields.company || customFields.shipping_company || \"\",\n            vessel: customFields.navio || customFields.vessel || customFields.ship || \"\",\n            blAwb: customFields.bl_awb || customFields.bl || customFields.awb || customFields.bill_of_lading || \"\",\n            containers: parseMultilineField(customFields.containers || customFields.container || \"\"),\n            terminal: customFields.terminal || customFields.port || \"\"\n        },\n        schedule: {\n            eta: formatDate(customFields.eta || customFields.chegada || customFields.arrival || \"\"),\n            freetime: formatDate(customFields.freetime || customFields.fim_freetime || customFields.free_time || \"\"),\n            responsible: task.assignee?.name || customFields.responsavel || customFields.responsible || \"\",\n            status: customFields.status_entrega || customFields.delivery_status || customFields.status || (task.completed ? \"Conclu\\xeddo\" : \"Em Progresso\")\n        },\n        partners: {\n            dispatcher: customFields.despachante || customFields.dispatcher || customFields.customs_broker || \"\",\n            transporter: customFields.transportadora || customFields.transporter || customFields.logistics || \"\",\n            invoices: parseMultilineField(customFields.invoices || customFields.faturas || customFields.invoice_numbers || \"\")\n        }\n    };\n}\nfunction parseMultilineField(str) {\n    if (!str) return [];\n    return str.split(/[,\\n;]/).map((s)=>s.trim()).filter(Boolean);\n}\nfunction formatDate(dateStr) {\n    if (!dateStr) return \"\";\n    try {\n        const date = new Date(dateStr);\n        return date.toLocaleDateString(\"pt-BR\");\n    } catch  {\n        return dateStr;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hc2FuYS90cmFja2luZ3Mvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsdURBQXVEO0FBQ1o7QUFDTTtBQUUxQyxlQUFlRTtJQUNwQixJQUFJO1FBQ0YsTUFBTUMsY0FBYyxJQUFJRiwwREFBV0E7UUFFbkMsbUJBQW1CO1FBQ25CLE1BQU1HLGFBQWEsTUFBTUQsWUFBWUUsYUFBYTtRQUNsRCxNQUFNQyxZQUFZRixVQUFVLENBQUMsRUFBRTtRQUUvQixzQkFBc0I7UUFDdEIsTUFBTUcsV0FBVyxNQUFNSixZQUFZSyxXQUFXLENBQUNGLFVBQVVHLEdBQUc7UUFFNUQsNkNBQTZDO1FBQzdDLE1BQU1DLGtCQUFrQkgsU0FBU0ksSUFBSSxDQUFDQyxDQUFBQSxJQUNwQ0EsRUFBRUMsSUFBSSxDQUFDQyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxlQUM5QkgsRUFBRUMsSUFBSSxDQUFDQyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxrQkFDOUJILEVBQUVDLElBQUksQ0FBQ0MsV0FBVyxHQUFHQyxRQUFRLENBQUMsdUJBQzlCSCxFQUFFQyxJQUFJLENBQUNDLFdBQVcsR0FBR0MsUUFBUSxDQUFDLGtCQUM5QkgsRUFBRUMsSUFBSSxDQUFDQyxXQUFXLEdBQUdDLFFBQVEsQ0FBQztRQUdoQyxJQUFJLENBQUNMLGlCQUFpQjtZQUNwQixPQUFPVixxREFBWUEsQ0FBQ2dCLElBQUksQ0FBQztnQkFDdkJDLFNBQVM7Z0JBQ1RDLE9BQU87Z0JBQ1BDLG1CQUFtQlosU0FBU2EsR0FBRyxDQUFDUixDQUFBQSxJQUFLQSxFQUFFQyxJQUFJO1lBQzdDLEdBQUc7Z0JBQUVRLFFBQVE7WUFBSTtRQUNuQjtRQUVBLGVBQWU7UUFDZixNQUFNQyxRQUFRLE1BQU1uQixZQUFZb0IsZUFBZSxDQUFDYixnQkFBZ0JELEdBQUc7UUFFbkUsd0NBQXdDO1FBQ3hDLE1BQU1lLFlBQVlGLE1BQ2ZHLE1BQU0sQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS2IsSUFBSSxJQUFJ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QUlsRCxhQUFhbUQsZUFBZSxJQUFJbkQsYUFBYXBCLE1BQU0sSUFDbEZLLENBQUFBLEtBQUsrQixTQUFTLEdBQUcsaUJBQWMsY0FBYTtRQUN0RDtRQUNBb0MsVUFBVTtZQUNSQyxZQUFZckQsYUFBYXNELFdBQVcsSUFBSXRELGFBQWFxRCxVQUFVLElBQUlyRCxhQUFhdUQsY0FBYyxJQUFJO1lBQ2xHQyxhQUFheEQsYUFBYXlELGNBQWMsSUFBSXpELGFBQWF3RCxXQUFXLElBQUl4RCxhQUFhMEQsU0FBUyxJQUFJO1lBQ2xHQyxVQUFVeEIsb0JBQW9CbkMsYUFBYTJELFFBQVEsSUFBSTNELGFBQWE0RCxPQUFPLElBQUk1RCxhQUFhNkQsZUFBZSxJQUFJO1FBQ2pIO0lBQ0Y7QUFDRjtBQUVBLFNBQVMxQixvQkFBb0IyQixHQUFXO0lBQ3RDLElBQUksQ0FBQ0EsS0FBSyxPQUFPLEVBQUU7SUFDbkIsT0FBT0EsSUFBSUMsS0FBSyxDQUFDLFVBQVVwRixHQUFHLENBQUNxRixDQUFBQSxJQUFLQSxFQUFFOUUsSUFBSSxJQUFJRixNQUFNLENBQUNpRjtBQUN2RDtBQUVBLFNBQVN4QixXQUFXeUIsT0FBZTtJQUNqQyxJQUFJLENBQUNBLFNBQVMsT0FBTztJQUNyQixJQUFJO1FBQ0YsTUFBTUMsT0FBTyxJQUFJekUsS0FBS3dFO1FBQ3RCLE9BQU9DLEtBQUtoRCxrQkFBa0IsQ0FBQztJQUNqQyxFQUFFLE9BQU07UUFDTixPQUFPK0M7SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ydGZvbGlvLXBhZ2VzLy4vc3JjL2FwcC9hcGkvYXNhbmEvdHJhY2tpbmdzL3JvdXRlLnRzP2ExNWIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2FwcC9hcGkvYXNhbmEvdHJhY2tpbmdzL3JvdXRlLnRzIC0gUHJvZHXDp8OjbyByZWFsXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBBc2FuYUNsaWVudCB9IGZyb20gJ0AvbGliL2FzYW5hLWNsaWVudCc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYXNhbmFDbGllbnQgPSBuZXcgQXNhbmFDbGllbnQoKTtcblxuICAgIC8vIDEuIEdldCB3b3Jrc3BhY2VcbiAgICBjb25zdCB3b3Jrc3BhY2VzID0gYXdhaXQgYXNhbmFDbGllbnQuZ2V0V29ya3NwYWNlcygpO1xuICAgIGNvbnN0IHdvcmtzcGFjZSA9IHdvcmtzcGFjZXNbMF07XG5cbiAgICAvLyAyLiBHZXQgYWxsIHByb2plY3RzXG4gICAgY29uc3QgcHJvamVjdHMgPSBhd2FpdCBhc2FuYUNsaWVudC5nZXRQcm9qZWN0cyh3b3Jrc3BhY2UuZ2lkKTtcbiAgICBcbiAgICAvLyAzLiBGaW5kIHRyYWNraW5nIHByb2plY3QgKGZsZXhpYmxlIHNlYXJjaClcbiAgICBjb25zdCB0cmFja2luZ1Byb2plY3QgPSBwcm9qZWN0cy5maW5kKHAgPT4gXG4gICAgICBwLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndHJhY2tpbmcnKSB8fFxuICAgICAgcC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ21hcsOtdGltbycpIHx8XG4gICAgICBwLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnaW1wb3J0YcOnw6NvJykgfHxcbiAgICAgIHAubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdwb3JjZWxhbm9zYScpIHx8XG4gICAgICBwLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndW5pdmFyJylcbiAgICApO1xuXG4gICAgaWYgKCF0cmFja2luZ1Byb2plY3QpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ1Byb2pldG8gZGUgdHJhY2tpbmcgbsOjbyBlbmNvbnRyYWRvJyxcbiAgICAgICAgYXZhaWxhYmxlUHJvamVjdHM6IHByb2plY3RzLm1hcChwID0+IHAubmFtZSlcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgfVxuXG4gICAgLy8gNC4gR2V0IHRhc2tzXG4gICAgY29uc3QgdGFza3MgPSBhd2FpdCBhc2FuYUNsaWVudC5nZXRQcm9qZWN0VGFza3ModHJhY2tpbmdQcm9qZWN0LmdpZCk7XG5cbiAgICAvLyA1LiBUcmFuc2Zvcm0gdGFza3MgdG8gdHJhY2tpbmcgZm9ybWF0XG4gICAgY29uc3QgdHJhY2tpbmdzID0gdGFza3NcbiAgICAgIC5maWx0ZXIodGFzayA9PiB0YXNrLm5hbWUgJiYgdGFzay5uYW1lLnRyaW0oKSlcbiAgICAgIC5tYXAodGFzayA9PiB0cmFuc2Zvcm1Bc2FuYVRhc2tUb1RyYWNraW5nKHRhc2spKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogdHJhY2tpbmdzLFxuICAgICAgbWV0YToge1xuICAgICAgICB3b3Jrc3BhY2U6IHdvcmtzcGFjZS5uYW1lLFxuICAgICAgICBwcm9qZWN0OiB0cmFja2luZ1Byb2plY3QubmFtZSxcbiAgICAgICAgY291bnQ6IHRyYWNraW5ncy5sZW5ndGgsXG4gICAgICAgIGxhc3RVcGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfVxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignR2V0IFRyYWNraW5ncyBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdGYWxoYSBhbyBidXNjYXIgdHJhY2tpbmdzJyxcbiAgICAgIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1Bc2FuYVRhc2tUb1RyYWNraW5nKHRhc2s6IGFueSkge1xuICAvLyBFeHRyYWN0IGN1c3RvbSBmaWVsZHNcbiAgY29uc3QgY3VzdG9tRmllbGRzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gIGlmICh0YXNrLmN1c3RvbV9maWVsZHMpIHtcbiAgICB0YXNrLmN1c3RvbV9maWVsZHMuZm9yRWFjaCgoZmllbGQ6IGFueSkgPT4ge1xuICAgICAgaWYgKGZpZWxkLm5hbWUpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZmllbGQubmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgLnJlcGxhY2UoL1teYS16MC05XFxzXS9nLCAnJylcbiAgICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuICAgICAgICBcbiAgICAgICAgY3VzdG9tRmllbGRzW2tleV0gPSBmaWVsZC50ZXh0X3ZhbHVlIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQubnVtYmVyX3ZhbHVlPy50b1N0cmluZygpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQuZW51bV92YWx1ZT8ubmFtZSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICcnO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gR2VuZXJhdGUgY2xlYW4gSUQgZm9yIFVSTFxuICBjb25zdCB0cmFja2luZ0lkID0gdGFzay5uYW1lXG4gICAgLnRvTG93ZXJDYXNlKClcbiAgICAucmVwbGFjZSgvW8KwXFxzLV0vZywgJycpXG4gICAgLnJlcGxhY2UoL1teYS16MC05XS9nLCAnJyk7XG5cbiAgcmV0dXJuIHtcbiAgICBpZDogdHJhY2tpbmdJZCxcbiAgICBhc2FuYUlkOiB0YXNrLmdpZCxcbiAgICB0aXRsZTogdGFzay5uYW1lLFxuICAgIGRlc2NyaXB0aW9uOiB0YXNrLm5vdGVzIHx8ICcnLFxuICAgIHN0YXR1czogdGFzay5jb21wbGV0ZWQgPyAnQ29uY2x1w61kbycgOiAnRW0gUHJvZ3Jlc3NvJyxcbiAgICBsYXN0VXBkYXRlOiBuZXcgRGF0ZSh0YXNrLm1vZGlmaWVkX2F0IHx8IHRhc2suY3JlYXRlZF9hdCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdwdC1CUicpLFxuICAgIHRyYW5zcG9ydDoge1xuICAgICAgZXhwb3J0ZXI6IGN1c3RvbUZpZWxkcy5leHBvcnRhZG9yIHx8IGN1c3RvbUZpZWxkcy5leHBvcnRlciB8fCAnJyxcbiAgICAgIGNvbXBhbnk6IGN1c3RvbUZpZWxkcy5jb21wYW5oaWEgfHwgY3VzdG9tRmllbGRzLmNvbXBhbnkgfHwgY3VzdG9tRmllbGRzLnNoaXBwaW5nX2NvbXBhbnkgfHwgJycsXG4gICAgICB2ZXNzZWw6IGN1c3RvbUZpZWxkcy5uYXZpbyB8fCBjdXN0b21GaWVsZHMudmVzc2VsIHx8IGN1c3RvbUZpZWxkcy5zaGlwIHx8ICcnLFxuICAgICAgYmxBd2I6IGN1c3RvbUZpZWxkcy5ibF9hd2IgfHwgY3VzdG9tRmllbGRzLmJsIHx8IGN1c3RvbUZpZWxkcy5hd2IgfHwgY3VzdG9tRmllbGRzLmJpbGxfb2ZfbGFkaW5nIHx8ICcnLFxuICAgICAgY29udGFpbmVyczogcGFyc2VNdWx0aWxpbmVGaWVsZChjdXN0b21GaWVsZHMuY29udGFpbmVycyB8fCBjdXN0b21GaWVsZHMuY29udGFpbmVyIHx8ICcnKSxcbiAgICAgIHRlcm1pbmFsOiBjdXN0b21GaWVsZHMudGVybWluYWwgfHwgY3VzdG9tRmllbGRzLnBvcnQgfHwgJydcbiAgICB9LFxuICAgIHNjaGVkdWxlOiB7XG4gICAgICBldGE6IGZvcm1hdERhdGUoY3VzdG9tRmllbGRzLmV0YSB8fCBjdXN0b21GaWVsZHMuY2hlZ2FkYSB8fCBjdXN0b21GaWVsZHMuYXJyaXZhbCB8fCAnJyksXG4gICAgICBmcmVldGltZTogZm9ybWF0RGF0ZShjdXN0b21GaWVsZHMuZnJlZXRpbWUgfHwgY3VzdG9tRmllbGRzLmZpbV9mcmVldGltZSB8fCBjdXN0b21GaWVsZHMuZnJlZV90aW1lIHx8ICcnKSxcbiAgICAgIHJlc3BvbnNpYmxlOiB0YXNrLmFzc2lnbmVlPy5uYW1lIHx8IGN1c3RvbUZpZWxkcy5yZXNwb25zYXZlbCB8fCBjdXN0b21GaWVsZHMucmVzcG9uc2libGUgfHwgJycsXG4gICAgICBzdGF0dXM6IGN1c3RvbUZpZWxkcy5zdGF0dXNfZW50cmVnYSB8fCBjdXN0b21GaWVsZHMuZGVsaXZlcnlfc3RhdHVzIHx8IGN1c3RvbUZpZWxkcy5zdGF0dXMgfHwgXG4gICAgICAgICAgICAgKHRhc2suY29tcGxldGVkID8gJ0NvbmNsdcOtZG8nIDogJ0VtIFByb2dyZXNzbycpXG4gICAgfSxcbiAgICBwYXJ0bmVyczoge1xuICAgICAgZGlzcGF0Y2hlcjogY3VzdG9tRmllbGRzLmRlc3BhY2hhbnRlIHx8IGN1c3RvbUZpZWxkcy5kaXNwYXRjaGVyIHx8IGN1c3RvbUZpZWxkcy5jdXN0b21zX2Jyb2tlciB8fCAnJyxcbiAgICAgIHRyYW5zcG9ydGVyOiBjdXN0b21GaWVsZHMudHJhbnNwb3J0YWRvcmEgfHwgY3VzdG9tRmllbGRzLnRyYW5zcG9ydGVyIHx8IGN1c3RvbUZpZWxkcy5sb2dpc3RpY3MgfHwgJycsXG4gICAgICBpbnZvaWNlczogcGFyc2VNdWx0aWxpbmVGaWVsZChjdXN0b21GaWVsZHMuaW52b2ljZXMgfHwgY3VzdG9tRmllbGRzLmZhdHVyYXMgfHwgY3VzdG9tRmllbGRzLmludm9pY2VfbnVtYmVycyB8fCAnJylcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhcnNlTXVsdGlsaW5lRmllbGQoc3RyOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gIGlmICghc3RyKSByZXR1cm4gW107XG4gIHJldHVybiBzdHIuc3BsaXQoL1ssXFxuO10vKS5tYXAocyA9PiBzLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xufVxuXG5mdW5jdGlvbiBmb3JtYXREYXRlKGRhdGVTdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghZGF0ZVN0cikgcmV0dXJuICcnO1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKTtcbiAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3B0LUJSJyk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBkYXRlU3RyO1xuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkFzYW5hQ2xpZW50IiwiR0VUIiwiYXNhbmFDbGllbnQiLCJ3b3Jrc3BhY2VzIiwiZ2V0V29ya3NwYWNlcyIsIndvcmtzcGFjZSIsInByb2plY3RzIiwiZ2V0UHJvamVjdHMiLCJnaWQiLCJ0cmFja2luZ1Byb2plY3QiLCJmaW5kIiwicCIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwianNvbiIsInN1Y2Nlc3MiLCJlcnJvciIsImF2YWlsYWJsZVByb2plY3RzIiwibWFwIiwic3RhdHVzIiwidGFza3MiLCJnZXRQcm9qZWN0VGFza3MiLCJ0cmFja2luZ3MiLCJmaWx0ZXIiLCJ0YXNrIiwidHJpbSIsInRyYW5zZm9ybUFzYW5hVGFza1RvVHJhY2tpbmciLCJkYXRhIiwibWV0YSIsInByb2plY3QiLCJjb3VudCIsImxlbmd0aCIsImxhc3RVcGRhdGUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjb25zb2xlIiwiZGV0YWlscyIsIkVycm9yIiwibWVzc2FnZSIsImN1c3RvbUZpZWxkcyIsImN1c3RvbV9maWVsZHMiLCJmb3JFYWNoIiwiZmllbGQiLCJrZXkiLCJyZXBsYWNlIiwidGV4dF92YWx1ZSIsIm51bWJlcl92YWx1ZSIsInRvU3RyaW5nIiwiZW51bV92YWx1ZSIsInRyYWNraW5nSWQiLCJpZCIsImFzYW5hSWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwibm90ZXMiLCJjb21wbGV0ZWQiLCJtb2RpZmllZF9hdCIsImNyZWF0ZWRfYXQiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ0cmFuc3BvcnQiLCJleHBvcnRlciIsImV4cG9ydGFkb3IiLCJjb21wYW55IiwiY29tcGFuaGlhIiwic2hpcHBpbmdfY29tcGFueSIsInZlc3NlbCIsIm5hdmlvIiwic2hpcCIsImJsQXdiIiwiYmxfYXdiIiwiYmwiLCJhd2IiLCJiaWxsX29mX2xhZGluZyIsImNvbnRhaW5lcnMiLCJwYXJzZU11bHRpbGluZUZpZWxkIiwiY29udGFpbmVyIiwidGVybWluYWwiLCJwb3J0Iiwic2NoZWR1bGUiLCJldGEiLCJmb3JtYXREYXRlIiwiY2hlZ2FkYSIsImFycml2YWwiLCJmcmVldGltZSIsImZpbV9mcmVldGltZSIsImZyZWVfdGltZSIsInJlc3BvbnNpYmxlIiwiYXNzaWduZWUiLCJyZXNwb25zYXZlbCIsInN0YXR1c19lbnRyZWdhIiwiZGVsaXZlcnlfc3RhdHVzIiwicGFydG5lcnMiLCJkaXNwYXRjaGVyIiwiZGVzcGFjaGFudGUiLCJjdXN0b21zX2Jyb2tlciIsInRyYW5zcG9ydGVyIiwidHJhbnNwb3J0YWRvcmEiLCJsb2dpc3RpY3MiLCJpbnZvaWNlcyIsImZhdHVyYXMiLCJpbnZvaWNlX251bWJlcnMiLCJzdHIiLCJzcGxpdCIsInMiLCJCb29sZWFuIiwiZGF0ZVN0ciIsImRhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/asana/trackings/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/asana-client.ts":
/*!*********************************!*\
  !*** ./src/lib/asana-client.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsanaClient: () => (/* binding */ AsanaClient)\n/* harmony export */ });\n// src/lib/asana-client.ts - Updated para projeto \"Operacional\"\nconst ASANA_BASE_URL = \"https://app.asana.com/api/1.0\";\nconst ASANA_TOKEN = process.env.ASANA_PERSONAL_ACCESS_TOKEN;\nclass AsanaClient {\n    constructor(){\n        this.headers = {\n            \"Accept\": \"application/json\",\n            \"Authorization\": `Bearer ${ASANA_TOKEN}`,\n            \"Content-Type\": \"application/json\"\n        };\n    }\n    async request(endpoint, options = {}) {\n        const url = `${ASANA_BASE_URL}${endpoint}`;\n        try {\n            const response = await fetch(url, {\n                headers: this.headers,\n                ...options\n            });\n            if (!response.ok) {\n                const errorText = await response.text();\n                throw new Error(`Asana API Error: ${response.status} - ${errorText}`);\n            }\n            return response.json();\n        } catch (error) {\n            console.error(\"Asana API Request Error:\", error);\n            throw error;\n        }\n    }\n    async getWorkspaces() {\n        const response = await this.request(\"/workspaces\");\n        return response.data;\n    }\n    async getProjects(workspaceGid) {\n        const response = await this.request(`/projects?workspace=${workspaceGid}&opt_fields=name,notes,created_at&limit=100`);\n        return response.data;\n    }\n    async findOperationalProject(workspaceGid) {\n        const projects = await this.getProjects(workspaceGid);\n        // Busca exata por \"Operacional\"\n        const operationalProject = projects.find((p)=>p.name.toLowerCase().includes(\"operacional\") || p.name.toLowerCase() === \"operacional\");\n        if (!operationalProject) {\n            console.log(\"Available projects:\", projects.map((p)=>p.name));\n            throw new Error(`Projeto \"Operacional\" não encontrado. Projetos disponíveis: ${projects.map((p)=>p.name).join(\", \")}`);\n        }\n        return operationalProject;\n    }\n    async getProjectTasks(projectGid) {\n        const optFields = [\n            \"name\",\n            \"notes\",\n            \"completed\",\n            \"assignee.name\",\n            \"custom_fields.name\",\n            \"custom_fields.text_value\",\n            \"custom_fields.number_value\",\n            \"custom_fields.enum_value.name\",\n            \"due_date\",\n            \"created_at\",\n            \"modified_at\",\n            \"tags.name\"\n        ].join(\",\");\n        const response = await this.request(`/tasks?project=${projectGid}&opt_fields=${optFields}&limit=100`);\n        return response.data;\n    }\n    async getTask(taskGid) {\n        const optFields = [\n            \"name\",\n            \"notes\",\n            \"completed\",\n            \"assignee.name\",\n            \"custom_fields.name\",\n            \"custom_fields.text_value\",\n            \"custom_fields.number_value\",\n            \"custom_fields.enum_value.name\",\n            \"due_date\",\n            \"created_at\",\n            \"modified_at\",\n            \"tags.name\"\n        ].join(\",\");\n        const response = await this.request(`/tasks/${taskGid}?opt_fields=${optFields}`);\n        return response.data;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TyxFQUFFaUMsUUFBUSxZQUFZLEVBQUVGLFVBQVUsQ0FBQztRQUU3QyxPQUFPM0IsU0FBU1csSUFBSTtJQUN0QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ydGZvbGlvLXBhZ2VzLy4vc3JjL2xpYi9hc2FuYS1jbGllbnQudHM/NDJhYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbGliL2FzYW5hLWNsaWVudC50cyAtIFVwZGF0ZWQgcGFyYSBwcm9qZXRvIFwiT3BlcmFjaW9uYWxcIlxuY29uc3QgQVNBTkFfQkFTRV9VUkwgPSAnaHR0cHM6Ly9hcHAuYXNhbmEuY29tL2FwaS8xLjAnO1xuY29uc3QgQVNBTkFfVE9LRU4gPSBwcm9jZXNzLmVudi5BU0FOQV9QRVJTT05BTF9BQ0NFU1NfVE9LRU47XG5cbmV4cG9ydCBjbGFzcyBBc2FuYUNsaWVudCB7XG4gIHByaXZhdGUgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhlYWRlcnMgPSB7XG4gICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7QVNBTkFfVE9LRU59YCxcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVxdWVzdDxUPihlbmRwb2ludDogc3RyaW5nLCBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHt9KTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3QgdXJsID0gYCR7QVNBTkFfQkFTRV9VUkx9JHtlbmRwb2ludH1gO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQXNhbmEgQVBJIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gLSAke2Vycm9yVGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQXNhbmEgQVBJIFJlcXVlc3QgRXJyb3I6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0V29ya3NwYWNlcygpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Q8YW55PignL3dvcmtzcGFjZXMnKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfVxuXG4gIGFzeW5jIGdldFByb2plY3RzKHdvcmtzcGFjZUdpZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0PGFueT4oXG4gICAgICBgL3Byb2plY3RzP3dvcmtzcGFjZT0ke3dvcmtzcGFjZUdpZH0mb3B0X2ZpZWxkcz1uYW1lLG5vdGVzLGNyZWF0ZWRfYXQmbGltaXQ9MTAwYFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH1cblxuICBhc3luYyBmaW5kT3BlcmF0aW9uYWxQcm9qZWN0KHdvcmtzcGFjZUdpZDogc3RyaW5nKTogUHJvbWlzZTxhbnkgfCBudWxsPiB7XG4gICAgY29uc3QgcHJvamVjdHMgPSBhd2FpdCB0aGlzLmdldFByb2plY3RzKHdvcmtzcGFjZUdpZCk7XG4gICAgXG4gICAgLy8gQnVzY2EgZXhhdGEgcG9yIFwiT3BlcmFjaW9uYWxcIlxuICAgIGNvbnN0IG9wZXJhdGlvbmFsUHJvamVjdCA9IHByb2plY3RzLmZpbmQocCA9PiBcbiAgICAgIHAubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdvcGVyYWNpb25hbCcpIHx8XG4gICAgICBwLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ29wZXJhY2lvbmFsJ1xuICAgICk7XG5cbiAgICBpZiAoIW9wZXJhdGlvbmFsUHJvamVjdCkge1xuICAgICAgY29uc29sZS5sb2coJ0F2YWlsYWJsZSBwcm9qZWN0czonLCBwcm9qZWN0cy5tYXAocCA9PiBwLm5hbWUpKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvamV0byBcIk9wZXJhY2lvbmFsXCIgbsOjbyBlbmNvbnRyYWRvLiBQcm9qZXRvcyBkaXNwb27DrXZlaXM6ICR7cHJvamVjdHMubWFwKHAgPT4gcC5uYW1lKS5qb2luKCcsICcpfWApO1xuICAgIH1cblxuICAgIHJldHVybiBvcGVyYXRpb25hbFByb2plY3Q7XG4gIH1cblxuICBhc3luYyBnZXRQcm9qZWN0VGFza3MocHJvamVjdEdpZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGNvbnN0IG9wdEZpZWxkcyA9IFtcbiAgICAgICduYW1lJyxcbiAgICAgICdub3RlcycsXG4gICAgICAnY29tcGxldGVkJyxcbiAgICAgICdhc3NpZ25lZS5uYW1lJyxcbiAgICAgICdjdXN0b21fZmllbGRzLm5hbWUnLFxuICAgICAgJ2N1c3RvbV9maWVsZHMudGV4dF92YWx1ZScsXG4gICAgICAnY3VzdG9tX2ZpZWxkcy5udW1iZXJfdmFsdWUnLCBcbiAgICAgICdjdXN0b21fZmllbGRzLmVudW1fdmFsdWUubmFtZScsXG4gICAgICAnZHVlX2RhdGUnLFxuICAgICAgJ2NyZWF0ZWRfYXQnLFxuICAgICAgJ21vZGlmaWVkX2F0JyxcbiAgICAgICd0YWdzLm5hbWUnXG4gICAgXS5qb2luKCcsJyk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucmVxdWVzdDxhbnk+KFxuICAgICAgYC90YXNrcz9wcm9qZWN0PSR7cHJvamVjdEdpZH0mb3B0X2ZpZWxkcz0ke29wdEZpZWxkc30mbGltaXQ9MTAwYFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH1cblxuICBhc3luYyBnZXRUYXNrKHRhc2tHaWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3Qgb3B0RmllbGRzID0gW1xuICAgICAgJ25hbWUnLFxuICAgICAgJ25vdGVzJyxcbiAgICAgICdjb21wbGV0ZWQnLFxuICAgICAgJ2Fzc2lnbmVlLm5hbWUnLFxuICAgICAgJ2N1c3RvbV9maWVsZHMubmFtZScsXG4gICAgICAnY3VzdG9tX2ZpZWxkcy50ZXh0X3ZhbHVlJyxcbiAgICAgICdjdXN0b21fZmllbGRzLm51bWJlcl92YWx1ZScsIFxuICAgICAgJ2N1c3RvbV9maWVsZHMuZW51bV92YWx1ZS5uYW1lJyxcbiAgICAgICdkdWVfZGF0ZScsXG4gICAgICAnY3JlYXRlZF9hdCcsXG4gICAgICAnbW9kaWZpZWRfYXQnLFxuICAgICAgJ3RhZ3MubmFtZSdcbiAgICBdLmpvaW4oJywnKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0PGFueT4oXG4gICAgICBgL3Rhc2tzLyR7dGFza0dpZH0/b3B0X2ZpZWxkcz0ke29wdEZpZWxkc31gXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfVxufSJdLCJuYW1lcyI6WyJBU0FOQV9CQVNFX1VSTCIsIkFTQU5BX1RPS0VOIiwicHJvY2VzcyIsImVudiIsIkFTQU5BX1BFUlNPTkFMX0FDQ0VTU19UT0tFTiIsIkFzYW5hQ2xpZW50IiwiY29uc3RydWN0b3IiLCJoZWFkZXJzIiwicmVxdWVzdCIsImVuZHBvaW50Iiwib3B0aW9ucyIsInVybCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsImVycm9yVGV4dCIsInRleHQiLCJFcnJvciIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJnZXRXb3Jrc3BhY2VzIiwiZGF0YSIsImdldFByb2plY3RzIiwid29ya3NwYWNlR2lkIiwiZmluZE9wZXJhdGlvbmFsUHJvamVjdCIsInByb2plY3RzIiwib3BlcmF0aW9uYWxQcm9qZWN0IiwiZmluZCIsInAiLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImxvZyIsIm1hcCIsImpvaW4iLCJnZXRQcm9qZWN0VGFza3MiLCJwcm9qZWN0R2lkIiwib3B0RmllbGRzIiwiZ2V0VGFzayIsInRhc2tHaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/asana-client.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fasana%2Ftrackings%2Froute&page=%2Fapi%2Fasana%2Ftrackings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fasana%2Ftrackings%2Froute.ts&appDir=%2Fworkspaces%2Fsistemaduri%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2Fsistemaduri&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();